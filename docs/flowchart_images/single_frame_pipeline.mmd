flowchart LR
    subgraph Input[" "]
        Img["ğŸ–¼ï¸ Image / Frame<br/>Camera, File, Stream"]
    end

    subgraph Preprocess["Preprocessing"]
        Resize["ğŸ“ Resize<br/>Model input size"]
        Normalize["ğŸ“Š Normalize<br/>e.g. 0â€“1"]
        Color["ğŸ¨ Color Convert<br/>e.g. BGRâ†’RGB"]
    end

    subgraph Inference["Inference"]
        Backend["âš¡ Inference Backend<br/>ONNX / TensorRT / Mock"]
        Decode["ğŸ” Defect Decoder<br/>Thresholds, NMS"]
    end

    subgraph Output[" "]
        Result["âœ… DefectResult<br/>frame_id, defects"]
        Alert["ğŸ“¢ Alerts / POS / Dashboard"]
    end

    Img --> Resize --> Normalize --> Color --> Backend --> Decode --> Result --> Alert
